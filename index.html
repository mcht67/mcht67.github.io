<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bird Call Samples</title>
 <!--  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background: #f2f2f2;
    }
    .sample {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin: 0 auto 20px;
    }
    .media {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .spectrogram {
      max-width: 640px;
      display: block;
      margin-bottom: 10px;
    }
    select {
    display: block;
    font-size: 1.1em;
    padding: 0.5em 1em;
    margin: 0 auto 1em auto;
    border: 1px solid #ccc;
    border-radius: 6px;
    background-color: #fff;
    cursor: pointer;
    transition: border 0.3s ease;
  }

  select:hover,
  select:focus {
    border-color: #007acc;
    outline: none;
  }
  </style> -->

  <style>body {
  font-family: Arial, sans-serif;
  padding: 2em;
  background: #f9f9f9;
  margin: 0;
}

h1 {
  text-align: center;
  margin-bottom: 2em;
}

.sample {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2em;
  margin-bottom: 3em;
  border: 1px solid #ddd;
  padding: 1.5em;
  max-width: 900px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.05);
  margin-left: auto;
  margin-right: auto;
}

.left-column, .right-column {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.media {
  text-align: center;
  width: 100%;
}

.spectrogram, .raw-spectrogram {
  max-width: 100%;
  border-radius: 6px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-bottom: 0.5em;
}

select {
  font-size: 1.1em;
  padding: 0.5em 1em;
  margin-bottom: 1em;
  border: 1px solid #ccc;
  border-radius: 6px;
  background-color: #fff;
  cursor: pointer;
  transition: border 0.3s ease;
  width: 80%;
  max-width: 300px;
}

select:hover,
select:focus {
  border-color: #007acc;
  outline: none;
}

h3 {
  text-align: center;
  margin-bottom: 1em;
  grid-column: span 2;
}

.raw-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 1em;
  width: 100%;
}

.raw-audio-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 0.9em;
}

.raw-audio-wrapper audio {
  width: 100%;
  outline-offset: 2px;
  border-radius: 4px;
}

.raw-label {
  margin-top: 0.3em;
  color: #555;
  text-align: center;
}</style>
</head>
<body>

  <h1>Polyphonic Bird Call Dataset</h1>
  <div id="samples"></div>
<!-- 
  <script>
    const polyphonyLevels = [1, 2, 3, 4, 5, 6, 7]; // adjust to your number of levels
    const exampleIds = [0, 1, 2];         // same for each level

    const samplesDiv = document.getElementById("samples");

    polyphonyLevels.forEach(poly => {
      const sampleDiv = document.createElement("div");
      sampleDiv.className = "sample";

      const title = document.createElement("h3");
      title.textContent = `Polyphony Degree ${poly}`;

      const select = document.createElement("select");
      exampleIds.forEach(ex => {
        const option = document.createElement("option");
        option.value = ex;
        option.textContent = `Example ${ex}`;
        select.appendChild(option);
      });

      const mediaDiv = document.createElement("div");
      mediaDiv.className = "media";

      const image = document.createElement("img");
      image.className = "spectrogram";

      const audio = document.createElement("audio");
      audio.controls = true;

      // Function to update audio/image
      function updateMedia(exampleId) {
        const basePath = `polyphony_${poly}/example_${exampleId}`;
        image.src = `${basePath}/images/mix_spectrogram_${exampleId}.png`;
        image.alt = `Spectrogram poly ${poly} ex ${exampleId}`;
        audio.src = `${basePath}/audio/mix_audio_${exampleId}.wav`;
      }

      // Set initial values
      updateMedia(exampleIds[0]);

      // Hook up dropdown
      select.addEventListener("change", () => {
        updateMedia(select.value);
      });

      mediaDiv.appendChild(select);
      mediaDiv.appendChild(image);
      mediaDiv.appendChild(audio);
      sampleDiv.appendChild(title);
      sampleDiv.appendChild(mediaDiv);
      samplesDiv.appendChild(sampleDiv);
    });
  </script> -->
  <script>
    // Configuration
    const polyphonyLevels = [1, 2, 3, 4, 5, 6, 7];  // your polyphony levels
    const exampleIds = [0, 1, 2];          // your example IDs per polyphony level
    const maxRawFiles = 7;                 // max raw files to show

    const samplesDiv = document.getElementById("samples");

    polyphonyLevels.forEach(poly => {
      const sampleDiv = document.createElement("div");
      sampleDiv.className = "sample";

      // Title
      const title = document.createElement("h3");
      title.textContent = `Polyphony Level ${poly}`;
      sampleDiv.appendChild(title);

      // Left column: mixed audio + dropdown + spectrogram
      const leftCol = document.createElement("div");
      leftCol.className = "left-column";

      const select = document.createElement("select");
      exampleIds.forEach(ex => {
        const option = document.createElement("option");
        option.value = ex;
        option.textContent = `Example ${ex}`;
        select.appendChild(option);
      });

      const mediaDiv = document.createElement("div");
      mediaDiv.className = "media";

      const image = document.createElement("img");
      image.className = "spectrogram";

      const audio = document.createElement("audio");
      audio.controls = true;

      function updateMedia(exampleId) {
        const basePath = `data/polyphony_${poly}/example_${exampleId}`;
        image.src = `${basePath}/images/mix_spectrogram.png`;
        image.alt = `Spectrogram poly ${poly} example ${exampleId}`;
        audio.src = `${basePath}/audio/mix_audio.wav`;
      }

      // Initial load
      updateMedia(exampleIds[0]);

      select.addEventListener("change", () => {
        const val = select.value;
        updateMedia(val);
        updateRawGrid(val);
      });

      mediaDiv.appendChild(select);
      mediaDiv.appendChild(image);
      mediaDiv.appendChild(audio);
      leftCol.appendChild(mediaDiv);

      // Right column: raw audio grid
      const rightCol = document.createElement("div");
      rightCol.className = "right-column";

      const rawGrid = document.createElement("div");
      rawGrid.className = "raw-grid";

      function updateRawGrid(exampleId) {
        rawGrid.innerHTML = "";

        const rawFilesToShow = Math.min(poly, maxRawFiles);

        for (let rawId = 0; rawId < rawFilesToShow; rawId++) {
          const wrapper = document.createElement("div");
          wrapper.className = "raw-audio-wrapper";

          const rawImage = document.createElement("img");
          rawImage.className = "raw-spectrogram";
          rawImage.src = `data/polyphony_${poly}/example_${exampleId}/images/raw_spectrogram_${rawId}.png`;
          rawImage.alt = `Raw spectrogram ${rawId}`;

          const rawAudio = document.createElement("audio");
          rawAudio.controls = true;
          rawAudio.src = `data/polyphony_${poly}/example_${exampleId}/audio/raw_audio_${rawId}.wav`;

          const label = document.createElement("div");
          label.className = "raw-label";
          label.textContent = `Raw Audio ${rawId}`;

          wrapper.appendChild(rawImage);
          wrapper.appendChild(rawAudio);
          wrapper.appendChild(label);

          rawGrid.appendChild(wrapper);
        }

        if (rawFilesToShow === 0) {
          const noFiles = document.createElement("p");
          noFiles.textContent = "No raw audio files available";
          noFiles.style.color = "#777";
          rawGrid.appendChild(noFiles);
        }
      }

      // Initial load raw files
      updateRawGrid(exampleIds[0]);

      rightCol.appendChild(rawGrid);

      sampleDiv.appendChild(leftCol);
      sampleDiv.appendChild(rightCol);

      samplesDiv.appendChild(sampleDiv);
    });
  </script>
</body>
</html>
